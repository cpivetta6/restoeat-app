<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title id="tableTitle">TABLE</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type="text/css"></style>
    <link rel="stylesheet" type="text/css" href="css/tableStyle.css" />
  </head>

  <body class="print-invoice">
    <div class="menu" style="text-align: center">
      <div><h2 id="clock">TIMER</h2></div>
      <table>
        <thead>
          <div class="t-head-foods" id="img-menu-container">
            <img src="/pictures/foods.png" alt="My Picture" />
          </div>
        </thead>
        <tbody class="tbody-foods">
          <tr>
            <td>
              <button class="button-menu" id="addValueButton1">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton2">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton3">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton4">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton5">btn</button>
            </td>
          </tr>

          <tr>
            <td>
              <button class="button-menu" id="addValueButton6">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton7">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton8">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton9">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton10">btn</button>
            </td>
          </tr>
          <tr>
            <td>
              <button class="button-menu" id="addValueButton11">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton12">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton13">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton14">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton15">btn</button>
            </td>
          </tr>
        </tbody>
      </table>

      <table>
        <thead>
          <div class="t-head-drinks" id="img-menu-container">
            <img src="/pictures/drinks.png" alt="My Picture" />
          </div>
        </thead>

        <tbody class="tbody-drinks">
          <tr>
            <td>
              <button class="button-menu" id="addValueButton16">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton17">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton18">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton19">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton20">btn</button>
            </td>
          </tr>
          <tr>
            <td>
              <button class="button-menu" id="addValueButton21">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton22">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton23">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton24">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton25">btn</button>
            </td>
          </tr>
          <tr>
            <td>
              <button class="button-menu" id="addValueButton26">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton27">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton28">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton29">btn</button>
            </td>
            <td>
              <button class="button-menu" id="addValueButton30">btn</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div id="logo-container">
      <a href="/tables">
        <img src="/pictures/logo_menu.png" alt="My Picture" />
      </a>
      <div id="tableID">
        <h3>Table <%= tableId %></h3>
      </div>
    </div>
    <div class="output">
      <table class="table table-striped table-responsive-md" id="myTable">
        <thead>
          <tr>
            <th>
              <h4>ITEM</h4>
            </th>
            <th class="amount">
              <h4>AMOUNT</h4>
            </th>
            <th class="price">
              <h4>PRICE</h4>
            </th>
            <th class="total">
              <h4>TOTAL</h4>
            </th>
          </tr>
        </thead>

        <tbody>
          <% itemList.forEach(item1 => { %>

          <script type="module">
            import { ButtonAct } from "./scripts/ButtonFunction.js";
            var item = {
              id: parseInt("<%= item1.id%>"),
              name: "<%= item1.name%>",
              amount: parseInt("<%= item1.amount%>"),
              price: parseFloat("<%= item1.price%>"),
              totalValue: parseFloat("<%= item1.totalvalue%>"),
            };

            ButtonAct(item);
          </script>

          <% }) %>

          <script type="module">
            import { buttonCreation } from "./scripts/ButtonCreation.js";

            var btnList = <%- JSON.stringify(btnList) %>;
            var orderList = <%- JSON.stringify(itemList) %>;



            buttonCreation(btnList, orderList);
          </script>
        </tbody>

        <tfoot></tfoot>
      </table>
    </div>

    <div>
      <tr>
        <td>
          <span class="total-row">
            <h4>TOTAL TABLE:</h4>
            <h4 id="totalTable">0.00â‚¬</h4>
          </span>
        </td>
      </tr>
    </div>

    <div class="payment-btn">
      <button class="button-menu" id="paymentBtn">CASH PAYMENT</button>
      <button class="button-menu" id="paymentBtnCard">CARD PAYMENT</button>
    </div>
    <!--popupContainer - EDIT ITEM-->
    <div id="popupContainer"></div>

    <!--popupConfirmation - PAYMENT-->
    <div id="confirmationPopup" style="display: none"></div>
    <div class="paymentPopUp">
      <div id="listPopUp"></div>
    </div>

    <script type="module">
      import { updateClock } from "./scripts/TableFunction.js";
      updateClock();
      setInterval(updateClock, 1000);
    </script>

    <script type="module">
      import { paymentPopUp } from "./scripts/TableFunction.js";

      paymentPopUp();
    </script>

    <script src="/scripts/ButtonFunction.js" type="module"></script>
    <script src="/scripts/ButtonCreation.js" type="module"></script>
    <script src="/scripts/TableFunction.js" type="module"></script>
  </body>
</html>
